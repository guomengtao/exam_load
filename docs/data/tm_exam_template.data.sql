-- ----------------------------
-- Table structure for `tm_exam_template`
-- ----------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
DROP TABLE IF EXISTS `tm_exam_template`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tm_exam_template` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '主键ID，自增',
  `title` varchar(255) NOT NULL COMMENT '试卷标题',
  `description` text COMMENT '试卷描述',
  `cover_image` varchar(255) DEFAULT NULL COMMENT '封面图片URL',
  `total_score` int(11) NOT NULL DEFAULT '0' COMMENT '试卷总分',
  `questions` json NOT NULL COMMENT '题目列表（JSON数组）',
  `category_id` bigint(20) DEFAULT NULL COMMENT '分类ID',
  `publish_time` int(10) DEFAULT '0' COMMENT '最近一次发布时间',
  `status` tinyint(1) DEFAULT '1' COMMENT '状态：1=正常，0=关闭',
  `creator` varchar(150) DEFAULT NULL COMMENT '创建人用户名',
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `deleted_at` timestamp NULL DEFAULT NULL COMMENT '删除时间（NULL=未删除）',
  `time_limit` int(11) DEFAULT '0' COMMENT '考试时间限制（分钟），0表示无限时',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4 COMMENT='试卷模板表';
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;


-- ----------------------------
-- Sample data for `tm_exam_template` (最早2条)
-- ----------------------------
INSERT INTO `tm_exam_template` VALUES (1,'修改后的试卷标题','这是更新后的试卷描述','',120,'[{\"id\": 1, \"type\": \"multi\", \"score\": 5, \"title\": \"1+1=？\", \"options\": \"B,\", \"image_url\": null, \"correct_answer\": [\"A\", \"B\"], \"correct_answer_bitmask\": 3}]',0,0,0,'','2025-04-28 01:28:57','2025-05-07 05:51:58',NULL,0),(2,'2025年中学期末考试tom-1-8','本次考试为期末考试，内容覆盖本学期所有知识点。','http://example.com/exam_cover_1.jpg',100,'[{\"id\": 1, \"type\": \"single\", \"score\": 9, \"title\": \"下面哪个是红色的？tom\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": null, \"correct_answer_bitmask\": 0}, {\"id\": 2, \"type\": \"multi\", \"score\": 10, \"title\": \"以下哪些是水果？\", \"options\": [\"egg\", \"bird\", \"peach\", \"apple\"], \"image_url\": null, \"correct_answer_bitmask\": 12}, {\"id\": 3, \"type\": \"multi\", \"score\": 6, \"title\": \"太阳是从西边升起的。\", \"options\": [\"a \", \"b\", \"v\", \"\"], \"image_url\": null, \"correct_answer_bitmask\": 2}]',1,1682154000,1,'教师A','2025-04-28 01:34:47','2025-05-07 06:36:34',NULL,0),(3,'2025年期中考试','本次期中考试内容为英语、数学和物理的复习。','http://example.com/exam_cover_2.jpg',150,'[{\"id\": 1, \"type\": \"single\", \"score\": 10, \"title\": \"‘Hello’这个单词是什么意思？\", \"options\": [\"你好\", \"再见\", \"谢谢\", \"不客气\"], \"image_url\": null, \"correct_answer\": \"D\", \"correct_answer_bitmask\": 0}, {\"id\": 2, \"type\": \"multi\", \"score\": 15, \"title\": \"以下哪些是物理学科的内容？\", \"options\": [\"力学\", \"化学\", \"光学\", \"地理\"], \"image_url\": null, \"correct_answer\": \"D\", \"correct_answer_bitmask\": 0}]',2,1682154000,1,'教师B','2025-04-28 01:34:58','2025-05-07 04:16:46',NULL,0),(4,'2025年数学竞赛','这场数学竞赛面向所有学生，涵盖了从初级到高级的数学问题。','http://example.com/exam_cover_3.jpg',200,'[{\"id\": 1, \"type\": \"multi\", \"score\": 20, \"title\": \"三角形的内角和是多少度？\", \"options\": [\"180度0\", \"360度\", \"90度\", \"270度\"], \"image_url\": null, \"correct_answer\": \"B,C\"}, {\"id\": 2, \"type\": \"judge\", \"score\": 10, \"title\": \"0的平方根是0。\", \"options\": [\"正确\", \"错误\"], \"image_url\": null}]',3,1682154000,1,'教师C','2025-04-28 01:35:08','2025-05-07 00:52:11',NULL,0),(5,'2025年综合素质评价考试','此考试评估学生的综合素质，主要考察学生的思维能力和创新精神。','http://example.com/exam_cover_4.jpg',100,'[{\"id\": 1, \"type\": \"single\", \"score\": 10, \"title\": \"下列哪项不属于物理现象？\", \"options\": [\"反射\", \"折射\", \"蒸发\", \"画画\"], \"image_url\": null, \"correct_answer_bitmask\": 2}, {\"id\": 2, \"type\": \"multi\", \"score\": 20, \"title\": \"以下哪些是空气污染的原因？\", \"options\": [\"汽车尾气\", \"工厂排放\", \"树木生长\", \"垃圾焚烧\"], \"image_url\": null, \"correct_answer_bitmask\": 6}]',0,1682154000,0,'教师D','2025-04-28 01:35:16','2025-05-07 11:53:33',NULL,0),(6,'2025年期中考试','','',100,'[{\"id\": 1, \"type\": \"multi\", \"score\": 10, \"title\": \"‘Hello’这个单词是什么意思？\", \"options\": [\"你好\", \"再见\", \"谢谢\", \"不客气\"], \"image_url\": null, \"correct_answer\": [\"B\"], \"correct_answer_bitmask\": 2}]',0,0,0,'教师A','2025-04-28 01:35:27','2025-05-07 05:51:34',NULL,0),(7,'2025年数学竞赛','','',150,'[{\"id\": 1, \"type\": \"multi\", \"score\": 10, \"title\": \"那些是水果\", \"options\": [\"西瓜\", \"电脑\", \"老虎\", \"火龙果\"], \"image_url\": null, \"correct_answer_bitmask\": 11}, {\"id\": 1746600355571, \"type\": \"single\", \"score\": 5, \"title\": \"567-10=?\", \"options\": [\"557\", \"4\", \"5\", \"666\"], \"image_url\": \"\", \"correct_answer_bitmask\": 1}, {\"id\": 1746600957041, \"type\": \"multi\", \"score\": 2, \"title\": \"42222*5>?\", \"options\": [\"4\", \"55\", \"23\", \"2\"], \"image_url\": \"\", \"correct_answer_bitmask\": 15}]',0,0,0,'教师B','2025-04-28 01:35:36','2025-05-08 01:35:25',NULL,0),(8,'历史','','',52,'[{\"type\": \"single\", \"score\": 52, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-07 07:15:36','2025-05-07 07:15:36',NULL,0),(9,'111','','',5,'[{\"type\": \"single\", \"score\": 5, \"title\": \"111\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-11 06:42:52','2025-05-11 06:42:52',NULL,0),(10,'测试题目','','',50,'[{\"type\": \"single\", \"score\": 30, \"title\": \"单选题,12+13=?\", \"options\": [\"22\", \"25\", \"21\", \"-1\"], \"image_url\": \"\", \"correct_answer_bitmask\": 2}, {\"type\": \"multi\", \"score\": 20, \"title\": \"多选题,哪些是单词\", \"options\": [\"cat\", \"老虎\", \"西瓜\", \"fly\"], \"image_url\": \"\", \"correct_answer_bitmask\": 9}]',0,0,0,'','2025-05-11 12:25:39','2025-05-11 12:25:39',NULL,0),(11,'带id的题目','','',5,'[{\"id\": 1746969239826, \"type\": \"multi\", \"score\": 5, \"title\": \"12+12大于几\", \"options\": [\"24\", \"22\", \"3\", \"33\"], \"image_url\": \"\", \"correct_answer_bitmask\": 6}, {\"id\": 1747002892004, \"type\": \"single\", \"score\": 7, \"title\": \"单选题,3+5=?\", \"options\": [\"3\", \"2\", \"8\", \"4\"], \"image_url\": \"\", \"correct_answer_bitmask\": 4}]',0,0,0,'','2025-05-11 13:14:57','2025-05-11 22:35:39',NULL,0),(12,'测试总分-0','','',12,'[{\"id\": 1747019451218, \"type\": \"single\", \"score\": 6, \"title\": \"12+13=?\", \"options\": [\"2\", \"25\", \"22\", \"33\"], \"image_url\": \"http://47.120.38.206:8081/static/uploads/images/exam/exam_5be5b228-56ca-422c-a137-21f3ae4fc529.jpg\", \"option_images\": [\"http://47.120.38.206:8081/static/uploads/images/exam/exam_1f9402d3-026b-42eb-bb01-7fb00dae5114.jpg\"], \"correct_answer_bitmask\": 2}, {\"id\": 1747019480623, \"type\": \"multi\", \"score\": 6, \"title\": \"大于20的数\", \"options\": [\"2\", \"22\", \"3\", \"56\"], \"image_url\": \"\", \"option_images\": [\"\", \"\"], \"correct_answer_bitmask\": 11}, {\"id\": 1747276761932, \"type\": \"single\", \"score\": 5, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [\"http://47.120.38.206:8081/static/uploads/images/exam/exam_36e36d5f-919b-499d-a133-91b564a2f816.jpg\", null, null, \"http://47.120.38.206:8081/static/uploads/images/exam/exam_814dac8a-8b25-4aec-bad8-03b9660b8b77.jpg\"], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-12 03:12:13','2025-05-15 09:14:39',NULL,0),(13,'新增-9','','',1,'[{\"id\": 1747300671918, \"type\": \"single\", \"score\": 1, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:18:09','2025-05-15 09:19:45',NULL,0),(14,'从','','',1,'[{\"id\": 1747300886401, \"type\": \"single\", \"score\": 1, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:21:43','2025-05-15 09:21:43',NULL,0),(15,'地方的','','',2,'[{\"id\": 1747300995478, \"type\": \"single\", \"score\": 2, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:23:36','2025-05-15 09:23:36',NULL,0),(16,'123','','',0,'[{\"id\": 1747301304252, \"type\": \"single\", \"score\": 0, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:29:31','2025-05-15 09:30:34',NULL,0),(17,'12112','','',1,'[{\"id\": 1747301512204, \"type\": \"single\", \"score\": 0, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:32:00','2025-05-15 09:32:00',NULL,0),(18,'1133','','',1,'[{\"id\": 1747301577989, \"type\": \"single\", \"score\": 0, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:33:10','2025-05-15 09:33:10',NULL,0),(19,'12333','','',2,'[{\"id\": 1747301605322, \"type\": \"single\", \"score\": 2, \"title\": \"\", \"options\": [\"\", \"\", \"\", \"\"], \"image_url\": \"\", \"option_images\": [], \"correct_answer_bitmask\": 0}]',0,0,0,'','2025-05-15 09:33:33','2025-05-15 09:33:33',NULL,0);
