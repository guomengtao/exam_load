-- ----------------------------
-- Table structure for `tm_route_status`
-- ----------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
DROP TABLE IF EXISTS `tm_route_status`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tm_route_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `method` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'HTTP请求方法(GET/POST/PUT/DELETE)',
  `path` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API路由路径',
  `handler` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '处理函数名称',
  `status` enum('active','paused','missing','deprecated') COLLATE utf8mb4_unicode_ci DEFAULT 'active' COMMENT '路由状态(active:活跃/paused:暂停/missing:未发现/deprecated:废弃)',
  `group_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '路由分组名称',
  `owner` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '接口负责人',
  `allowed_roles` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '允许访问的角色列表',
  `is_private` tinyint(1) DEFAULT '0' COMMENT '是否为私有接口',
  `visit_count` int(11) DEFAULT '0' COMMENT '访问次数统计',
  `last_visited_at` datetime DEFAULT NULL COMMENT '最后访问时间',
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_route` (`method`,`path`) COMMENT '路由唯一性约束'
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='路由状态管理表';
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;


-- ----------------------------
-- Sample data for `tm_route_status` (最早2条)
-- ----------------------------
INSERT INTO `tm_route_status` VALUES (1,'GET','/','main.main.(*RouterGroup).StaticFile.func1','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(2,'GET','/api/route/list','gin-go-test/app/controllers.(*RouteController).GetRoutes-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(3,'GET','/api/route/groups','gin-go-test/app/controllers.(*RouteController).GetRouteGroups-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(4,'GET','/api/route/stats','gin-go-test/app/controllers.(*RouteController).GetRouteStats-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(5,'GET','/api/route/:id','gin-go-test/app/controllers.(*RouteController).GetRouteDetail-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(6,'GET','/api/role/count','gin-go-test/utils/generated/controller.(*RoleSkeleton).CountHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(7,'GET','/api/role/list','gin-go-test/utils/generated/controller.(*RoleSkeleton).ListHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(8,'GET','/api/exam_paper','gin-go-test/app/controllers.(*ExamPaperController).GetExam-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(9,'GET','/api/exam_paper/redis','gin-go-test/app/controllers.(*ExamPaperController).ListExamPapersFromRedis-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(10,'GET','/api/exam_template','gin-go-test/app/controllers.(*ExamTemplateController).GetExamTemplate-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(11,'GET','/api/status','gin-go-test/app/controllers.(*StatusController).GetStatus-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(12,'GET','/api/source/check','gin-go-test/app/controllers.(*SourceController).CheckSource-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(13,'GET','/api/user/count','gin-go-test/utils/generated/controller.(*UserSkeleton).CountHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(14,'GET','/api/user/list','gin-go-test/utils/generated/controller.(*UserSkeleton).ListHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(15,'GET','/api/teacher/count','gin-go-test/utils/generated/controller.(*TeacherSkeleton).CountHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(16,'GET','/api/teacher/list','gin-go-test/utils/generated/controller.(*TeacherSkeleton).ListHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(17,'GET','/api/file_info/count','gin-go-test/utils/generated/controller.(*FileInfoSkeleton).CountHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(18,'GET','/api/file_info/list','gin-go-test/utils/generated/controller.(*FileInfoSkeleton).ListHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(19,'GET','/api/badminton_game/count','gin-go-test/utils/generated/controller.(*BadmintonGameSkeleton).CountHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(20,'GET','/api/badminton_game/list','gin-go-test/utils/generated/controller.(*BadmintonGameSkeleton).ListHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(21,'GET','/api/version','gin-go-test/app/controllers.(*VersionController).GetVersion-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(22,'GET','/api/dbinfo','gin-go-test/app/controllers.(*DBInfoController).GetDBInfo-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(23,'GET','/swagger/*any','github.com/swaggo/gin-swagger.CustomWrapHandler.func1','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(24,'GET','/static/*filepath','github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(25,'POST','/api/exam_template','gin-go-test/app/controllers.(*ExamTemplateController).CreateExam-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(26,'POST','/api/exam_paper','gin-go-test/app/controllers.(*ExamPaperController).CreateExamPaper-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(27,'POST','/api/upload','gin-go-test/app/controllers.(*UploadController).UploadFile-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(28,'POST','/api/user','gin-go-test/utils/generated/controller.(*UserSkeleton).BatchCreateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(29,'POST','/api/route/refresh','gin-go-test/app/controllers.(*RouteController).RefreshRoutes-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(30,'POST','/api/role','gin-go-test/utils/generated/controller.(*RoleSkeleton).BatchCreateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(31,'POST','/api/login','gin-go-test/auth.LoginHandler','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(32,'POST','/api/teacher','gin-go-test/utils/generated/controller.(*TeacherSkeleton).BatchCreateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(33,'POST','/api/file_info','gin-go-test/utils/generated/controller.(*FileInfoSkeleton).BatchCreateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(34,'POST','/api/badminton_game','gin-go-test/utils/generated/controller.(*BadmintonGameSkeleton).BatchCreateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(35,'PUT','/api/route/:id/status','gin-go-test/app/controllers.(*RouteController).UpdateRouteStatus-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(36,'PUT','/api/route/:id/group','gin-go-test/app/controllers.(*RouteController).UpdateRouteGroup-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(37,'PUT','/api/route/:id/permission','gin-go-test/app/controllers.(*RouteController).UpdateRoutePermission-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(38,'PUT','/api/role','gin-go-test/utils/generated/controller.(*RoleSkeleton).BatchUpdateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(39,'PUT','/api/exam_template','gin-go-test/app/controllers.(*ExamTemplateController).UpdateExamTemplate-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(40,'PUT','/api/user','gin-go-test/utils/generated/controller.(*UserSkeleton).BatchUpdateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(41,'PUT','/api/teacher','gin-go-test/utils/generated/controller.(*TeacherSkeleton).BatchUpdateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(42,'PUT','/api/file_info','gin-go-test/utils/generated/controller.(*FileInfoSkeleton).BatchUpdateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(43,'PUT','/api/badminton_game','gin-go-test/utils/generated/controller.(*BadmintonGameSkeleton).BatchUpdateHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(44,'DELETE','/api/user','gin-go-test/utils/generated/controller.(*UserSkeleton).BatchDeleteHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(45,'DELETE','/api/role','gin-go-test/utils/generated/controller.(*RoleSkeleton).BatchDeleteHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(46,'DELETE','/api/teacher','gin-go-test/utils/generated/controller.(*TeacherSkeleton).BatchDeleteHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(47,'DELETE','/api/file_info','gin-go-test/utils/generated/controller.(*FileInfoSkeleton).BatchDeleteHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(48,'DELETE','/api/badminton_game','gin-go-test/utils/generated/controller.(*BadmintonGameSkeleton).BatchDeleteHandler-fm','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(49,'HEAD','/','main.main.(*RouterGroup).StaticFile.func1','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52'),(50,'HEAD','/static/*filepath','github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1','active','','','',0,0,'0000-00-00 00:00:00','2025-06-03 12:56:52');
